```mdx
---
title: 'Get Disciples (Sensei)'
api: 'GET /disciples'
description: 'Retrieve all disciples for the authenticated sensei'
---

Endpoint

```
GET /make-server-4010be06/disciples
```

Sensei-only endpoint. Get list of all disciples linked to the sensei.

---

Headers

<ParamField header="Authorization" type="string" required>
  Sensei's bearer token
</ParamField>

---

Query Parameters

<ParamField query="full" type="boolean" default="false">
  If `true`, returns complete disciple profiles. If `false`, returns only essential fields for list view.
</ParamField>

---

Response

<ResponseField name="disciples" type="array">
  Array of disciple objects
  
  <Expandable title="disciple properties (full=false)">
    <ResponseField name="id" type="string">
      Disciple's user ID
    </ResponseField>
    
    <ResponseField name="name" type="string">
      Display name
    </ResponseField>
    
    <ResponseField name="email" type="string">
      Email address
    </ResponseField>
    
    <ResponseField name="points" type="number">
      Total points earned
    </ResponseField>
    
    <ResponseField name="beltLevel" type="string">
      Current belt rank
    </ResponseField>
    
    <ResponseField name="streak" type="number">
      Consecutive days active
    </ResponseField>
    
    <ResponseField name="ageCategory" type="string">
      Age bracket
    </ResponseField>
  </Expandable>
</ResponseField>

---

Example Requests

List View (Default)

```typescript
const response = await fetch('https://YOUR_PROJECT.supabase.co/functions/v1/make-server-4010be06/disciples', {
  headers: {
    'Authorization': `Bearer ${senseiAccessToken}`
  }
})

const { disciples } = await response.json()

// Display in disciple list
disciples.forEach(disciple => {
  console.log(`${disciple.name} - ${disciple.beltLevel} belt - ${disciple.points} points`)
})
```

Full Profiles

```typescript
const response = await fetch('/disciples?full=true', {
  headers: {
    'Authorization': `Bearer ${senseiAccessToken}`
  }
})

const { disciples } = await response.json()

// Access all profile fields
disciples.forEach(disciple => {
  console.log(disciple.totalTasksCompleted)
  console.log(disciple.earlyCompletions)
  console.log(disciple.selectedAvatar)
})
```

---

Example Responses

List View Response

```json
{
  "disciples": [
    {
      "id": "abc123-disciple-1",
      "name": "Emma Smith",
      "email": "emma@example.com",
      "points": 245,
      "beltLevel": "yellow",
      "streak": 14,
      "ageCategory": "cricket"
    },
    {
      "id": "def456-disciple-2",
      "name": "Oliver Johnson",
      "email": "oliver@example.com",
      "points": 98,
      "beltLevel": "white",
      "streak": 3,
      "ageCategory": "grasshopper"
    }
  ]
}
```

Full Profile Response

```json
{
  "disciples": [
    {
      "id": "abc123-disciple-1",
      "name": "Emma Smith",
      "email": "emma@example.com",
      "userType": "disciple",
      "ageCategory": "cricket",
      "points": 245,
      "beltLevel": "yellow",
      "streak": 14,
      "senseiId": "xyz789-sensei-id",
      "selectedAvatar": "cricket",
      "totalTasksCompleted": 42,
      "earlyCompletions": 15,
      "focusSessionsCompleted": 8,
      "graceTokensAvailable": 2,
      "lastActiveDate": "2024-01-15T10:30:00Z",
      "createdAt": "2024-01-01T00:00:00Z",
      "disciples": []
    }
  ]
}
```

---

Error Responses

<ResponseExample>
```json 403 - Not a Sensei
{
  "error": "Only sensei accounts can view disciples"
}
```

```json 401 - Unauthorized
{
  "error": "Unauthorized"
}
```
</ResponseExample>

---

Use Cases

Disciples Dashboard

```typescript
async function loadDisciplesDashboard() {
  const { disciples } = await fetch('/disciples').then(r => r.json())
  
  // Sort by points
  const sorted = disciples.sort((a, b) => b.points - a.points)
  
  // Display disciples
  setDisciples(sorted)
}
```

Disciple Selection

```typescript
async function selectDisciple(discipleId: string) {
  // Load full profile
  const { disciples } = await fetch('/disciples?full=true').then(r => r.json())
  
  const disciple = disciples.find(d => d.id === discipleId)
  
  if (disciple) {
    setSelectedDisciple(disciple)
    
    // Load disciple's tasks
    loadDiscipleTasks(discipleId)
  }
}
```

Insights Calculation

```typescript
async function calculateInsights() {
  const { disciples } = await fetch('/disciples?full=true').then(r => r.json())
  
  const insights = {
    totalDisciples: disciples.length,
    activeDisciples: disciples.filter(d => d.streak > 0).length,
    totalPoints: disciples.reduce((sum, d) => sum + d.points, 0),
    averageStreak: disciples.reduce((sum, d) => sum + d.streak, 0) / disciples.length
  }
  
  setInsights(insights)
}
```

---

Performance Considerations

<Tip>
Use `full=false` for list views to reduce payload size and improve load times.
</Tip>

<Info>
Cache disciple data locally and only refresh when needed (e.g., after task approval).
</Info>

---

Notes

<Info>
Only returns disciples linked to the authenticated sensei. Cannot view other senseis' disciples.
</Info>

<Tip>
Empty array is returned if sensei has no disciples yet.
</Tip>

---

Next Steps

<CardGroup cols={2}>
  <Card title="Create Disciple" icon="user-plus" href="/api-reference/disciples/create-disciple">
    Add new disciple
  </Card>
  
  <Card title="Get Tasks" icon="list" href="/api-reference/tasks/get-tasks">
    View disciple's tasks
  </Card>
  
  <Card title="Approve Task" icon="check-circle" href="/api-reference/tasks/approve-task">
    Approve completions
  </Card>
  
  <Card title="Sensei Guide" icon="book" href="/user-guide/sensei/overview">
    Managing disciples
  </Card>
</CardGroup>
```
